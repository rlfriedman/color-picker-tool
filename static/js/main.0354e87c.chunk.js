(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/sunset.dd77b71a.jpg"},15:function(e,t,a){e.exports=a.p+"static/media/flowers.5a0c1aa2.jpg"},16:function(e,t,a){e.exports=a.p+"static/media/parrots.31543aa1.jpg"},17:function(e,t,a){e.exports=a.p+"static/media/island.a6b028d2.jpg"},20:function(e,t,a){e.exports=a(42)},25:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},34:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),i=a.n(r),s=(a(25),a(19)),l=a(1),c=a(2),u=a(4),h=a(3),p=a(5),d=a(8),m=a.n(d),w=a(14),f=a.n(w),v=a(15),b=a.n(v),g=a(16),S=a.n(g),y=a(17),k=a.n(y),x=(a(29),a(18)),C=a.n(x),U=a(9),E=a.n(U),j=(a(34),a(36),a(40),[f.a,b.a,S.a,k.a]),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={imageUrl:j[0],colorSwabs:["empty"],currentImageIndex:0,color:null,hex:null,tempHex:null,currentSwab:0,totalSwabs:1,maxSwabs:5,isActive:!0,textFieldValue:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app-container"},o.a.createElement("div",{className:"color-tool-container"},o.a.createElement(O,{colorMove:function(t){return e.handleColorMove(t)},colorSelected:function(t){return e.handleColorSelected(t)},imageUrl:this.state.imageUrl}),o.a.createElement(R,{colorSwabs:this.state.colorSwabs,currentSwab:this.state.currentSwab,tempHex:this.state.tempHex,hex:this.state.hex,color:this.state.color,maxSwabs:this.state.maxSwabs,handleSwabClick:function(t){return e.handleSwabClick(t)}}),o.a.createElement("div",{className:"control-container"},o.a.createElement(m.a,{outlined:!0,className:"random-image-button",onClick:function(){e.setState({imageUrl:j[(e.state.currentImageIndex+1)%j.length],currentImageIndex:e.state.currentImageIndex+1}),e.resetPallete()}},"Random Image"),o.a.createElement(m.a,{outlined:!0,className:"random-image-button",onClick:function(){navigator.clipboard.writeText(window.location.href)}},"Copy URL"),o.a.createElement(E.a,{outlined:!0,label:"Update Image URL"},o.a.createElement(U.Input,{value:this.state.textFieldValue,onKeyPress:function(t){return e.handleInputKeypress(t)},onChange:function(t){return e.setState({textFieldValue:t.target.value})}})))))}},{key:"componentDidUpdate",value:function(e,t){t.imageUrl!==this.state.imageUrl&&this.updateImageUrlParam()}},{key:"componentWillMount",value:function(){var e=new URL(window.location.href),t=e.searchParams.get("url");t&&(t=decodeURIComponent(t),this.setState({imageUrl:t}));for(var a=["p0","p1","p2","p3","p4"],n=[],o=0;o<a.length;o++){var r=a[o],i=e.searchParams.get(r);i&&(i="#"+i,n.push(i))}n.length&&this.setState({colorSwabs:n,totalSwabs:n.length,currentSwab:this.state.maxSwabs>n.length?n.length:this.state.maxSwabs-1,isActive:this.state.maxSwabs!==n.length})}},{key:"updateImageUrlParam",value:function(){var e=new URL(window.location.href);e.searchParams.set("url",encodeURIComponent(this.state.imageUrl)),window.history.replaceState({path:e.toString()},"",e.toString());encodeURIComponent(this.state.imageUrl)}},{key:"addColorToUrl",value:function(e){var t=new URL(window.location.href);t.searchParams.set("p"+this.state.currentSwab.toString(),e.substring(1)),window.history.replaceState({path:t.toString()},"",t.toString())}},{key:"handleInputKeypress",value:function(e){"Enter"===e.key&&(this.setState({imageUrl:this.state.textFieldValue,textFieldValue:""}),this.resetPallete())}},{key:"resetPallete",value:function(){window.history.replaceState(null,null,window.location.pathname),this.setState({totalSwabs:1,currentSwab:0,isActive:!0,colorSwabs:["empty"]}),this.updateImageUrlParam()}},{key:"handleColorMove",value:function(e){if(this.state.isActive){var t=A(e);this.setState({tempHex:t,color:null})}}},{key:"handleColorSelected",value:function(e){if(this.state.isActive){var t=A(e),a=this.state.totalSwabs;if(this.state.totalSwabs===this.state.maxSwabs)return this.setState({isActive:!1}),void this.addColorToUrl(t);this.addColorToUrl(t);var n=this.state.colorSwabs.slice();n.push("empty"),this.setState({hex:"empty",color:e,currentSwab:a,totalSwabs:a+1>this.state.totalSwabs?a+1:this.state.totalSwabs,colorSwabs:n})}}},{key:"handleSwabClick",value:function(e){this.setState({currentSwab:e,isActive:!0})}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).canvasElement=o.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateImage()}},{key:"componentDidUpdate",value:function(e){e.imageUrl!==this.props.imageUrl&&this.updateImage()}},{key:"updateImage",value:function(){var e=this.canvasElement.current,t=this.props.imageUrl,a=e.getContext("2d"),n=new Image;n.onload=function(){a.clearRect(0,0,e.width,e.height);var t=function(e,t){var a=t.width,n=t.height,o=e.width,r=e.height,i=o/r,s=a,l=n;i<a/n?l=s/i:s=l*i;return{width:s,height:l,offsetX:.5*(a-s),offsetY:.5*(n-l)}}(n,e),o=t.offsetX,r=t.offsetY,i=t.width,s=t.height;a.drawImage(n,o,r,i,s)},n.crossOrigin="Anonymous",n.src=t}},{key:"handleClick",value:function(e){var t=this.getColorFromMouseEvent(e);this.props.colorSelected(t)}},{key:"handleMouseMove",value:function(e){var t=this.getColorFromMouseEvent(e);this.props.colorMove(t)}},{key:"getColorFromMouseEvent",value:function(e){var t=this.canvasElement.current,a=t.getContext("2d"),n=t.getBoundingClientRect(),o=e.clientX-n.left,r=e.clientY-n.top;return a.getImageData(o,r,1,1).data}},{key:"render",value:function(){var e=this;return o.a.createElement("canvas",{onMouseMove:function(t){return e.handleMouseMove(t)},onClick:function(t){return e.handleClick(t)},ref:this.canvasElement,width:1e3,height:500})}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).colorSwabEl=o.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.hex!==this.props.hex&&this.updateColor(),e.tempHex!==this.props.tempHex&&this.updateColor(!0)}},{key:"updateColor",value:function(e){this.props.colorSwabs[this.props.currentSwab]=e?this.props.tempHex:this.props.hex}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.props.colorSwabs.length;a++){var n="",r=!1;"empty"===this.props.colorSwabs[a]?(n="#FFFFFF",r=!0):n=this.props.colorSwabs[a],t.push(o.a.createElement(F,{hex:n,empty:r,key:a,id:a,handleSwabClick:function(t){return e.props.handleSwabClick(t)}}))}return o.a.createElement("div",{className:"color-palette-container"},t)}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).colorSwabEl=o.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.updateColor()}},{key:"componentDidMount",value:function(){this.props.initRipple(this.colorSwabEl.current)}},{key:"updateColor",value:function(){this.colorSwabEl.current.style.backgroundColor=this.props.hex}},{key:"decideTextColor",value:function(e){return.299*e[0]+.587*e[1]+.114*e[2]>150?"#000000":"#ffffff"}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,r=(t.initRipple,t.unbounded,t.handleSwabClick,t.empty,Object(s.a)(t,["className","initRipple","unbounded","handleSwabClick","empty"])),i="color-swab ".concat(this.props.empty?"no-color":""," ").concat(n);return o.a.createElement("div",Object.assign({ref:this.colorSwabEl,className:i,onClick:function(){return e.props.handleSwabClick(e.props.id)}},r),o.a.createElement("span",{className:"color-swab-text"}))}}]),t}(n.Component),F=C()(M);function A(e){return"#"+(16777216+(e[0]<<16|e[1]<<8|e[2])).toString(16).slice(1)}var P=I;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.0354e87c.chunk.js.map